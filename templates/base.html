<!doctype html>
<html lang="pt-br">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>{{ app_name }}</title>

  <!-- Bootstrap + Icons -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css" rel="stylesheet">

  <style>
    :root{
      --nc-yellow:#fff3b0; /* amarelo claro */
      --nc-blue:#cfe7ff;   /* azul claro */
      --nc-blue-strong:#2b6cb0;
      --nc-text:#1f2937;
      --card-radius:18px;
    }
    body{
      background: linear-gradient(135deg, var(--nc-yellow), var(--nc-blue));
      color: var(--nc-text);
      min-height: 100vh;
    }
    .nc-navbar{
      backdrop-filter: blur(10px);
      background: rgba(255,255,255,.70);
      border-bottom: 1px solid rgba(0,0,0,.06);
    }
    .brand-badge{
      background: rgba(255,255,255,.92);
      border: 1px solid rgba(0,0,0,.06);
      border-radius: 999px;
      padding: .35rem .7rem;
      box-shadow: 0 10px 30px rgba(0,0,0,.06);
    }

    /* ===== LOGO estilo “Zé Delivery” ===== */
    .brand-logo-wrap{
      width: 44px;
      height: 44px;
      border-radius: 999px;
      overflow: hidden;
      background: rgba(255,255,255,.95);
      border: 2px solid rgba(43,108,176,.18);
      box-shadow: 0 14px 35px rgba(0,0,0,.12);
      flex: 0 0 auto;
    }
    .brand-logo{
      width: 100%;
      height: 100%;
      object-fit: cover;
      display: block;
      transform: scale(1.06);
    }

    .nc-card{
      border: 1px solid rgba(0,0,0,.06);
      border-radius: var(--card-radius);
      overflow: hidden;
      box-shadow: 0 14px 35px rgba(0,0,0,.08);
      background: rgba(255,255,255,.85);
    }

    /* ✅ CAIXA DA IMAGEM (onde a imagem vai ficar centralizada) */
    .nc-media{
      width: 100%;
      height: 200px;              /* altura padrão da área da imagem */
      display: flex;
      align-items: center;
      justify-content: center;
      background: #ffffff;
      padding: 12px;
    }

    /* ✅ IMAGEM SEMPRE 93x96, SEM CORTAR, SEM DISTORCER */
    .nc-img{
      width: 93px !important;
      height: 96px !important;
      object-fit: contain !important;
      object-position: center !important;
      display: block;
      background: transparent !important;
      padding: 0 !important;
    }

    .qty-pill{
      border-radius: 999px;
      background: rgba(255,255,255,.9);
      border: 1px solid rgba(0,0,0,.08);
      padding: .25rem .5rem;
      display: inline-flex;
      align-items: center;
      gap: .5rem;
    }
    .btn-nc{
      border-radius: 999px;
      border: 1px solid rgba(0,0,0,.08);
      background: rgba(255,255,255,.9);
    }
    .btn-nc:hover{
      background: rgba(255,255,255,1);
    }
    .badge-cat{
      background: rgba(43,108,176,.12);
      color: var(--nc-blue-strong);
      border: 1px solid rgba(43,108,176,.18);
      border-radius: 999px;
      font-weight: 600;
    }
    .floating-cart{
      position: fixed;
      bottom: 18px;
      right: 18px;
      z-index: 999;
      border-radius: 999px;
      box-shadow: 0 16px 40px rgba(0,0,0,.18);
    }
    .toastish{
      position: fixed;
      top: 80px;
      right: 18px;
      z-index: 999;
      min-width: 260px;
    }
  </style>
</head>
<body>

<nav class="navbar nc-navbar sticky-top">
  <div class="container py-2 d-flex align-items-center justify-content-between">
    <div class="d-flex align-items-center gap-2">
      <!-- Logo -->
      <div class="brand-logo-wrap">
        <img
          class="brand-logo"
          src="{{ url_for('static', filename='brand/logo.png') }}"
          alt="Logo Nova Cidade"
          onerror="this.style.display='none'; this.parentElement.style.display='none';"
        >
      </div>

      <span class="brand-badge d-inline-flex align-items-center gap-2">
        <i class="bi bi-droplet-half"></i>
        <strong>{{ app_name }}</strong>
      </span>
    </div>

    <div class="d-flex gap-2">
      <a class="btn btn-sm btn-nc" href="{{ url_for('index') }}">
        <i class="bi bi-grid-3x3-gap"></i> Catálogo
      </a>
      <a class="btn btn-sm btn-nc" href="{{ url_for('checkout') }}">
        <i class="bi bi-bag-check"></i> Checkout
      </a>

      {% if is_admin %}
        <a class="btn btn-sm btn-nc" href="{{ url_for('admin') }}">
          <i class="bi bi-gear"></i> Admin
        </a>
        <a class="btn btn-sm btn-nc" href="{{ url_for('logout') }}">
          <i class="bi bi-box-arrow-right"></i> Sair
        </a>
      {% else %}
        <a class="btn btn-sm btn-nc" href="{{ url_for('login') }}">
          <i class="bi bi-shield-lock"></i> Login Admin
        </a>
      {% endif %}
    </div>
  </div>
</nav>

<div class="container my-4">
  {% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
      <div class="toastish">
        {% for category, message in messages %}
          <div class="alert alert-{{ 'success' if category=='success' else 'danger' }} shadow-sm mb-2">
            <i class="bi bi-info-circle"></i> {{ message }}
          </div>
        {% endfor %}
      </div>
    {% endif %}
  {% endwith %}

  {% block content %}{% endblock %}
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
{% block scripts %}{% endblock %}
</body>
</html>